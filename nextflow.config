profiles {

    standard {
        process.executor = 'local'
        process.cpus = { 8 }
        process.memory = { 64.GB }
        process.time = { 1.h * task.attempt }
        process.errorStrategy = { task.exitStatus == 143 ? 'retry' : 'finish' }
        process.maxRetries = 2
        process.maxErrors = '-1'
    }

    uppmax {
        process.executor = 'slurm'
        process.cpus = { 8 }
        process.memory = { 64.GB }
        process.time = { 1.h * task.attempt }
        process.errorStrategy = { task.exitStatus == 143 ? 'retry' : 'finish' }
        process.maxRetries = 2
        process.maxErrors = '-1'
        process.clusterOptions = '-A b2013064'

        $supernova {
            module = ['bioinfo-tools', 'supernova']
        }
        $longranger {
            module = ['bioinfo-tools', 'longranger']
        }
        $mkoutput {
            module = ['bioinfo-tools', 'supernova']
        }
        $quast {
            module = ['bioinfo-tools', 'quast']
        }
        $busco {
            module = ['bioinfo-tools', 'BUSCO/2.0.1']
            beforeScript = 'source $BUSCO_SETUP'
        }
    }
}
